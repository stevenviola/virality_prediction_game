{% extends "template.html" %}

{% block intro_text %}
<p>You have completed the game. Your score is <b>{{correct_pct}}%</b>. 
Check the chart below to see how you did relative to other players.</p>

<p> Please remember to take the survey. Or use the menu below to play again </p>

<div class="btn-group">
    <button type="button" class="btn btn-default btn-large dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Play again <span class="caret"></span>
    </button>
    <ul class="dropdown-menu">
      <li><a href="/render_game?article_source=aww">Aww</a></li>
      <li><a href="/render_game?article_source=pics">Pics</a></li>
    </ul>
</div>

<div class="col-sm-6" id='survey_message'>
  <!-- <span  > <p> When you are done, please fill out the survey.  </p> -->
    <div class = "btn-group">
      <a href="/survey" class="btn btn-default btn-large" role="button">Take Survey</a>
    </div>
  </div>
{% endblock %}

{% block content %}
<div class="container">
    <div class='col-xs-12' id="histogram_container"></div>
</div>

<!-- <script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script> -->


<script>
    
    $(function () {
    $('#histogram_container').highcharts({
        chart: {
            type: 'column'
        },
        title: {
            text: 'Scores for r/aww'
        },
         xAxis: {
            categories: ['0-10','10-20','20-30','30-40','40-50','50-60','60-70','70-80','80-90','90-100'],
            title:{
                text: "Score"
            }
        },
        yAxis: {
            min: 0,
            max: 1,
        },
        plotOptions: {
            column: {
                pointPadding: 0.2,
                borderWidth: 0,
                grouping:false
                // groupPadding:0,
                // pointWidth: 40
                // pointInterval:10,
            },
            series: {
                groupPadding:0,
                pointPadding:.1,
                // stacking: 'percent'
            }
        },
        series: [{
            // data: [ ['0-10',10], ['10-20',10], ['20-30',10], ['30-40',10], ['40-50',10], ['50-60',10], ['60-70',10], ['70-80',10], ['80-90',10],['90-100',10]],
            data: {{ score_dist }}, 

                // [.1, .1, .1, .1, .1, .1, .1, .1, .1, .1],

            color: "red",
            name: "Everyone else",
            // groupPadding:0
        },
        {
            data: [[ {{ user_bin }} ,1]],
            color:"blue",
            name: "You",
            pointPlacement:-0.2,
            pointPadding:0.4
        },
        ]

    });
});
</script>


{% endblock %}