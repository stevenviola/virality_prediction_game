{% extends "template.html" %}

{% block intro_text %}
<p>You have completed the game. Your score is <b>{{correct_pct}}%</b>. 
Check the chart below to see how you did relative to other players.</p>

<p> Please remember to take the survey. Or use the menu below to play again </p>

<div class="btn-group">
    <button type="button" class="btn btn-default btn-large dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Play again <span class="caret"></span>
    </button>
    <ul class="dropdown-menu">
      <li><a href="/render_game?article_source=aww">Aww</a></li>
      <li><a href="/render_game?article_source=pics">Pics</a></li>
    </ul>
</div>

<div class="col-sm-6" id='survey_message'>
  <!-- <span  > <p> When you are done, please fill out the survey.  </p> -->
    <div class = "btn-group">
      <a href="/survey" class="btn btn-default btn-large" role="button">Take Survey</a>
    </div>
  </div>
{% endblock %}

{% block content %}
<div class="container">
    <div class='col-xs-12' id="histogram_container"></div>
</div>

<!-- <script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script> -->


<script>
    
    $(function () {
    $('#histogram_container').highcharts({
        chart: {
            type: 'column'
        },
        tooltip: {
            enabled: false
        },
        title: {
            text: 'Scores for r/aww'
        },
         xAxis: {
            min:0,
            max:100,
            title:{
                text: "Score"
            },
            labels: {
                formatter: function(){
                    return this.value + "%"
                }
            }   
        },
        yAxis: {
            min: 0,
            // max: 1,
        },
        plotOptions: {
            column: {
                // pointPadding: 0.2,
                borderWidth: 0,
                grouping:false,
                starting_point:0,
                pointInterval:5,
                // pointPlacement:"between",
                // groupPadding:0,
                // pointWidth: 40
                // pointInterval:10,
            },
            series: {
                groupPadding:0,
                // pointPadding:.1,
                // stacking: 'percent'
            }
        },
        series: [{
            data: {{ score_dist }}, 
            color: "red",
            name: "Everyone else",
            // groupPadding:0
        },
        {
            data: [[ {{ user_bin }} , {{ user_val }}]],
            // data: [[ 65, {{user_val }}]],
            color:"blue",
            name: "You",
            // pointPlacement:-0.2,
            pointPadding:0.4
        },
        ]

    });
});
</script>


{% endblock %}